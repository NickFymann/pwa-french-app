<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#3498db" />

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/pwa-french-app/service-worker.js');
    }
  </script>

  <script>
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"
      const installBtn = document.createElement('button');
      installBtn.textContent = 'üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ';
      installBtn.className = 'install-button';
      document.body.appendChild(installBtn);

      installBtn.addEventListener('click', () => {
        installBtn.remove();
        deferredPrompt.prompt();

        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ');
          } else {
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É');
          }
          deferredPrompt = null;
        });
      });
    });
  </script>

</head>
<body>
  <h1>–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫</h1>
  <a class="section-link" href="rules/index.html">üìò –ü—Ä–∞–≤–∏–ª–∞</a>
  <a class="section-link" href="#">üìö –£—Ä–æ–∫–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</a>
  <a class="section-link" href="#">üß† –°–ª–æ–≤–∞—Ä—å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</a>
  <a class="section-link" href="#">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</a>
</body>
</html>
